if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-promise/aui-promise.js']) {
   __coverage__['build/aui-promise/aui-promise.js'] = {"path":"build/aui-promise/aui-promise.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":23},"end":{"line":1,"column":42}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":33},"end":{"line":22,"column":52}}},"3":{"name":"(anonymous_3)","line":25,"loc":{"start":{"line":25,"column":21},"end":{"line":25,"column":32}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":7},"end":{"line":27,"column":18}}},"5":{"name":"(anonymous_5)","line":41,"loc":{"start":{"line":41,"column":32},"end":{"line":41,"column":49}}},"6":{"name":"CancellablePromise","line":58,"loc":{"start":{"line":58,"column":0},"end":{"line":58,"column":51}}},"7":{"name":"(anonymous_7)","line":91,"loc":{"start":{"line":91,"column":12},"end":{"line":91,"column":34}}},"8":{"name":"(anonymous_8)","line":111,"loc":{"start":{"line":111,"column":10},"end":{"line":111,"column":44}}},"9":{"name":"onFulfilledInternal","line":115,"loc":{"start":{"line":115,"column":8},"end":{"line":115,"column":39}}},"10":{"name":"(anonymous_10)","line":124,"loc":{"start":{"line":124,"column":83},"end":{"line":124,"column":100}}},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":26},"end":{"line":158,"column":48}}},"12":{"name":"(anonymous_12)","line":198,"loc":{"start":{"line":198,"column":25},"end":{"line":198,"column":42}}},"13":{"name":"(anonymous_13)","line":202,"loc":{"start":{"line":202,"column":8},"end":{"line":202,"column":34}}},"14":{"name":"resolveInternal","line":212,"loc":{"start":{"line":212,"column":12},"end":{"line":212,"column":52}}},"15":{"name":"(anonymous_15)","line":220,"loc":{"start":{"line":220,"column":33},"end":{"line":220,"column":56}}},"16":{"name":"(anonymous_16)","line":227,"loc":{"start":{"line":227,"column":8},"end":{"line":227,"column":19}}},"17":{"name":"CancellablePromiseError","line":246,"loc":{"start":{"line":246,"column":0},"end":{"line":246,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":258,"column":62}},"2":{"start":{"line":22,"column":0},"end":{"line":30,"column":2}},"3":{"start":{"line":23,"column":4},"end":{"line":23,"column":24}},"4":{"start":{"line":25,"column":4},"end":{"line":29,"column":7}},"5":{"start":{"line":26,"column":8},"end":{"line":26,"column":32}},"6":{"start":{"line":28,"column":8},"end":{"line":28,"column":32}},"7":{"start":{"line":41,"column":0},"end":{"line":43,"column":2}},"8":{"start":{"line":42,"column":4},"end":{"line":42,"column":35}},"9":{"start":{"line":58,"column":0},"end":{"line":61,"column":1}},"10":{"start":{"line":59,"column":4},"end":{"line":59,"column":44}},"11":{"start":{"line":60,"column":4},"end":{"line":60,"column":69}},"12":{"start":{"line":63,"column":0},"end":{"line":162,"column":3}},"13":{"start":{"line":92,"column":8},"end":{"line":94,"column":64}},"14":{"start":{"line":95,"column":8},"end":{"line":103,"column":9}},"15":{"start":{"line":96,"column":12},"end":{"line":96,"column":55}},"16":{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},"17":{"start":{"line":98,"column":16},"end":{"line":98,"column":73}},"18":{"start":{"line":102,"column":12},"end":{"line":102,"column":31}},"19":{"start":{"line":104,"column":8},"end":{"line":104,"column":31}},"20":{"start":{"line":105,"column":8},"end":{"line":105,"column":20}},"21":{"start":{"line":112,"column":8},"end":{"line":113,"column":18}},"22":{"start":{"line":115,"column":8},"end":{"line":122,"column":9}},"23":{"start":{"line":116,"column":12},"end":{"line":116,"column":71}},"24":{"start":{"line":117,"column":12},"end":{"line":119,"column":13}},"25":{"start":{"line":118,"column":16},"end":{"line":118,"column":45}},"26":{"start":{"line":120,"column":12},"end":{"line":120,"column":56}},"27":{"start":{"line":121,"column":12},"end":{"line":121,"column":33}},"28":{"start":{"line":124,"column":8},"end":{"line":137,"column":11}},"29":{"start":{"line":125,"column":12},"end":{"line":132,"column":13}},"30":{"start":{"line":126,"column":16},"end":{"line":128,"column":17}},"31":{"start":{"line":127,"column":20},"end":{"line":127,"column":39}},"32":{"start":{"line":131,"column":16},"end":{"line":131,"column":24}},"33":{"start":{"line":134,"column":12},"end":{"line":136,"column":13}},"34":{"start":{"line":135,"column":16},"end":{"line":135,"column":29}},"35":{"start":{"line":141,"column":8},"end":{"line":141,"column":57}},"36":{"start":{"line":143,"column":8},"end":{"line":143,"column":21}},"37":{"start":{"line":159,"column":8},"end":{"line":159,"column":67}},"38":{"start":{"line":160,"column":8},"end":{"line":160,"column":35}},"39":{"start":{"line":173,"column":0},"end":{"line":173,"column":47}},"40":{"start":{"line":184,"column":0},"end":{"line":184,"column":45}},"41":{"start":{"line":198,"column":0},"end":{"line":232,"column":2}},"42":{"start":{"line":199,"column":4},"end":{"line":199,"column":22}},"43":{"start":{"line":201,"column":4},"end":{"line":231,"column":6}},"44":{"start":{"line":203,"column":12},"end":{"line":206,"column":13}},"45":{"start":{"line":204,"column":16},"end":{"line":204,"column":103}},"46":{"start":{"line":205,"column":16},"end":{"line":205,"column":23}},"47":{"start":{"line":208,"column":12},"end":{"line":210,"column":42}},"48":{"start":{"line":212,"column":12},"end":{"line":218,"column":13}},"49":{"start":{"line":213,"column":16},"end":{"line":213,"column":44}},"50":{"start":{"line":214,"column":16},"end":{"line":214,"column":28}},"51":{"start":{"line":215,"column":16},"end":{"line":217,"column":17}},"52":{"start":{"line":216,"column":20},"end":{"line":216,"column":37}},"53":{"start":{"line":220,"column":12},"end":{"line":225,"column":15}},"54":{"start":{"line":221,"column":16},"end":{"line":221,"column":71}},"55":{"start":{"line":222,"column":16},"end":{"line":224,"column":55}},"56":{"start":{"line":228,"column":12},"end":{"line":228,"column":47}},"57":{"start":{"line":229,"column":12},"end":{"line":229,"column":28}},"58":{"start":{"line":234,"column":0},"end":{"line":234,"column":42}},"59":{"start":{"line":246,"column":0},"end":{"line":249,"column":1}},"60":{"start":{"line":247,"column":4},"end":{"line":247,"column":74}},"61":{"start":{"line":248,"column":4},"end":{"line":248,"column":31}},"62":{"start":{"line":251,"column":0},"end":{"line":253,"column":3}},"63":{"start":{"line":255,"column":0},"end":{"line":255,"column":53}}},"branchMap":{"1":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":97,"column":12}},{"start":{"line":97,"column":12},"end":{"line":97,"column":12}}]},"2":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":16},"end":{"line":97,"column":39}},{"start":{"line":97,"column":43},"end":{"line":97,"column":77}}]},"3":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":12},"end":{"line":117,"column":12}},{"start":{"line":117,"column":12},"end":{"line":117,"column":12}}]},"4":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":16},"end":{"line":126,"column":16}},{"start":{"line":126,"column":16},"end":{"line":126,"column":16}}]},"5":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":12},"end":{"line":134,"column":12}},{"start":{"line":134,"column":12},"end":{"line":134,"column":12}}]},"6":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":12},"end":{"line":203,"column":12}},{"start":{"line":203,"column":12},"end":{"line":203,"column":12}}]},"7":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":16},"end":{"line":215,"column":16}},{"start":{"line":215,"column":16},"end":{"line":215,"column":16}}]}},"code":["(function () { YUI.add('aui-promise', function (A, NAME) {","","/**\r"," * An extesion to the Promise utility that provides the ability to cancel\r"," * nested promises passing an instance of the `A.CancellablePromise.Error`.\r"," *\r"," * @module aui-promise\r"," */\r","\r","/**\r"," * Adds a callback that will be invoked whether the Promise is fulfilled or\r"," * rejected. The callback receives no argument, and a new child Promise is\r"," * created. This is useful for ensuring that cleanup takes place after certain\r"," * asynchronous operations. Callbacks added with `thenAlways` will be executed\r"," * in the same order with other calls to `then`, `thenAlways`.\r"," *\r"," * @method thenAways\r"," * @param  {Function} callback A function that will be invoked when the Promise\r"," *     is resolved.\r"," * @return {Promise} A new Promise that will receive the result of the callback.\r"," */\r","A.Promise.prototype.thenAlways = function(callback) {\r","    var instance = this;\r","\r","    return this.then(function() {\r","        callback.call(instance);\r","    }, function() {\r","        callback.call(instance);\r","    });\r","};\r","\r","/**\r"," * Adds a callback that will be invoked only if the Promise is rejected. This is\r"," * equivalent to `then(null, onRejected)`.\r"," *\r"," * @method thenCatch\r"," * @param  {Function} callback A function that will be invoked with the\r"," *     rejection reason if the Promise is rejected.\r"," * @return {Promise} A new Promise that will receive the result of the callback.\r"," */\r","A.Promise.prototype.thenCatch = function(reject) {\r","    return this.then(null, reject);\r","};\r","\r","/**\r"," * Cancellable promise.\r"," *\r"," * @class A.CancellablePromise\r"," * @constructor\r"," * @extends {Promise}\r"," * @param {Function} fn A function where to insert the logic that resolves this\r"," *     promise. Receives `fulfill` and `reject` functions as parameters. This\r"," *     function is called synchronously.\r"," * @param {Function} opt_errorCallback Optional error callback to be fired\r"," *     whenever a cancellable promise is cancelled.\r"," */\r","\r","function CancellablePromise(fn, opt_errorCallback) {\r","    this._errorCallback = opt_errorCallback;\r","    CancellablePromise.superclass.constructor.apply(this, arguments);\r","}\r","\r","A.extend(CancellablePromise, A.Promise, {\r","    /**\r","     * Holds the list of children promises.\r","     *\r","     * @property _childPromises\r","     * @type {Array}\r","     * @protected\r","     */\r","    _childPromises: null,\r","\r","    /**\r","     * Holds the Optional error callback to be fired whenever a cancellable\r","     * promise is cancelled.\r","     *\r","     * @property _errorCallback\r","     * @type {Function}\r","     * @protected\r","     */\r","    _errorCallback: null,\r","\r","    /**\r","     * Cancels the Promise by rejecting it with a `A.CancellablePromise.Error`. No\r","     * action is performed if the Promise is already resolved.\r","     *\r","     * @method cancel\r","     * @param {String} opt_message An optional debugging message for describing\r","     *     the cancellation reason.\r","     */\r","    cancel: function(opt_message) {\r","        var instance = this,\r","            resolver = this._resolver,\r","            error = new A.CancellablePromise.Error(opt_message);\r","        try {\r","            instance._cancelChildPromises(opt_message);\r","            if (instance._errorCallback && instance.getStatus() === 'pending') {\r","                A.soon(A.bind(instance._errorCallback, instance, error));\r","            }\r","        }\r","        catch (e) {\r","            resolver.reject(e);\r","        }\r","        resolver.reject(error);\r","        return this;\r","    },\r","\r","    /**\r","     * @override\r","     */\r","    then: function(onFulfilled, onRejected) {\r","        var instance = this,\r","            child;\r","\r","        function onFulfilledInternal() {\r","            var valueOrReason = onFulfilled.apply(instance, arguments);\r","            if (!instance._childPromises) {\r","                instance._childPromises = [];\r","            }\r","            instance._childPromises.push(valueOrReason);\r","            return valueOrReason;\r","        }\r","\r","        child = CancellablePromise.superclass.then.call(this, onFulfilledInternal, function(reason) {\r","            try {\r","                if (A.Lang.isFunction(onRejected)) {\r","                    onRejected(reason);\r","                }\r","            }\r","            catch (e) {\r","                throw e;\r","            }\r","            // Always throw rejection error when comes from a cancellation\r","            if (A.instanceOf(reason, A.CancellablePromise.Error)) {\r","                throw reason;\r","            }\r","        });\r","        // TODO: Link cancel method from parent promise keeps child promises\r","        // available for future cancellation. The same may be achieve linking\r","        // the parent child reference on each child\r","        child.cancel = A.bind(instance.cancel, instance);\r","\r","        return child;\r","    },\r","\r","    /**\r","     * Cancels children Promises. If the Promise has not already been resolved,\r","     * reject it with a cancel error. If there are no other children in the list\r","     * of callback entries, propagate the cancellation by canceling this Promise\r","     * as well.\r","     *\r","     * @method  _cancelChildPromises\r","     * @param {CancellablePromise} childPromise The Promise to cancel.\r","     * @param {String} opt_message An optional debugging message for describing\r","     *     the cancellation reason.\r","     * @private\r","     */\r","    _cancelChildPromises: function(opt_message) {\r","        A.Array.invoke(this._childPromises, 'cancel', opt_message);\r","        this._childPromises = null;\r","    }\r","});\r","\r","/*\r"," * Ensures that a certain value is a cancellable promise. If it is not a\r"," * promise, it wraps it in one.\r"," *\r"," * @method resolve\r"," * @param {Any} Any object that may or may not be a promise\r"," * @return {CancellablePromise}\r"," * @static\r"," */\r","CancellablePromise.resolve = A.Promise.resolve;\r","\r","/*\r"," * A shorthand for creating a rejected cancellable promise.\r"," *\r"," * @method reject\r"," * @param {Any} reason Reason for the rejection of this promise. Usually an\r"," * Error Object\r"," * @return {CancellablePromise} A rejected promise\r"," * @static\r"," */\r","CancellablePromise.reject = A.Promise.reject;\r","\r","/*\r"," * Returns a cancellable promise that is resolved or rejected when all values\r"," * are resolved or any is rejected. This is useful for waiting for the\r"," * resolution of multiple promises, such as reading multiple files in Node.js or\r"," * making multiple XHR requests in the browser.\r"," *\r"," * @method all\r"," * @param {Any[]} values An array of any kind of values, promises or not. If a\r"," * value is not\r"," * @return {CancellablePromise} A promise for an array of all the fulfillment values\r"," * @static\r"," */\r","CancellablePromise.all = function(values) {\r","    var children = [];\r","\r","    return new A.CancellablePromise(\r","        function(resolve, reject) {\r","            if (!A.Lang.isArray(values)) {\r","                reject(new TypeError('CancellablePromise.all expects an array of values or promises'));\r","                return;\r","            }\r","\r","            var instance = this,\r","                results = [],\r","                remaining = values.length;\r","\r","            function resolveInternal(childPos, val) {\r","                results[childPos - 1] = val;\r","                remaining--;\r","                if (!remaining) {\r","                    resolve(results);\r","                }\r","            }\r","\r","            A.Array.each(values, function(maybePromise) {\r","                var child = A.CancellablePromise.resolve(maybePromise);\r","                child.then(\r","                    A.bind(resolveInternal, instance, children.push(child)),\r","                    A.bind(instance.cancel, instance));\r","            });\r","        },\r","        function() {\r","            A.Array.invoke(children, 'cancel');\r","            children = null;\r","        }\r","    );\r","};\r","\r","A.CancellablePromise = CancellablePromise;\r","\r","/**\r"," * Error used as a rejection reason for canceled Promises.\r"," *\r"," * @class A.CancellablePromise.Error\r"," * @constructor\r"," * @extends {Error}\r"," * @param {String} opt_message An optional debugging message for describing the\r"," *     cancellation reason.\r"," */\r","\r","function CancellablePromiseError(opt_message) {\r","    CancellablePromiseError.superclass.constructor.apply(this, arguments);\r","    this.message = opt_message;\r","}\r","\r","A.extend(CancellablePromiseError, Error, {\r","    name: 'cancel'\r","});\r","\r","A.CancellablePromise.Error = CancellablePromiseError;\r","","","}, '3.1.0', {\"requires\": [\"array-invoke\", \"promise\", \"oop\"]});","","}());"]};
}
var __cov_UqjJvXCR_QuZYU4vZC5nVg = __coverage__['build/aui-promise/aui-promise.js'];
__cov_UqjJvXCR_QuZYU4vZC5nVg.s['1']++;YUI.add('aui-promise',function(A,NAME){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['1']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['2']++;A.Promise.prototype.thenAlways=function(callback){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['2']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['3']++;var instance=this;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['4']++;return this.then(function(){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['3']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['5']++;callback.call(instance);},function(){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['4']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['6']++;callback.call(instance);});};__cov_UqjJvXCR_QuZYU4vZC5nVg.s['7']++;A.Promise.prototype.thenCatch=function(reject){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['5']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['8']++;return this.then(null,reject);};__cov_UqjJvXCR_QuZYU4vZC5nVg.s['9']++;function CancellablePromise(fn,opt_errorCallback){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['6']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['10']++;this._errorCallback=opt_errorCallback;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['11']++;CancellablePromise.superclass.constructor.apply(this,arguments);}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['12']++;A.extend(CancellablePromise,A.Promise,{_childPromises:null,_errorCallback:null,cancel:function(opt_message){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['7']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['13']++;var instance=this,resolver=this._resolver,error=new A.CancellablePromise.Error(opt_message);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['14']++;try{__cov_UqjJvXCR_QuZYU4vZC5nVg.s['15']++;instance._cancelChildPromises(opt_message);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['16']++;if((__cov_UqjJvXCR_QuZYU4vZC5nVg.b['2'][0]++,instance._errorCallback)&&(__cov_UqjJvXCR_QuZYU4vZC5nVg.b['2'][1]++,instance.getStatus()==='pending')){__cov_UqjJvXCR_QuZYU4vZC5nVg.b['1'][0]++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['17']++;A.soon(A.bind(instance._errorCallback,instance,error));}else{__cov_UqjJvXCR_QuZYU4vZC5nVg.b['1'][1]++;}}catch(e){__cov_UqjJvXCR_QuZYU4vZC5nVg.s['18']++;resolver.reject(e);}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['19']++;resolver.reject(error);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['20']++;return this;},then:function(onFulfilled,onRejected){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['8']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['21']++;var instance=this,child;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['22']++;function onFulfilledInternal(){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['9']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['23']++;var valueOrReason=onFulfilled.apply(instance,arguments);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['24']++;if(!instance._childPromises){__cov_UqjJvXCR_QuZYU4vZC5nVg.b['3'][0]++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['25']++;instance._childPromises=[];}else{__cov_UqjJvXCR_QuZYU4vZC5nVg.b['3'][1]++;}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['26']++;instance._childPromises.push(valueOrReason);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['27']++;return valueOrReason;}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['28']++;child=CancellablePromise.superclass.then.call(this,onFulfilledInternal,function(reason){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['10']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['29']++;try{__cov_UqjJvXCR_QuZYU4vZC5nVg.s['30']++;if(A.Lang.isFunction(onRejected)){__cov_UqjJvXCR_QuZYU4vZC5nVg.b['4'][0]++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['31']++;onRejected(reason);}else{__cov_UqjJvXCR_QuZYU4vZC5nVg.b['4'][1]++;}}catch(e){__cov_UqjJvXCR_QuZYU4vZC5nVg.s['32']++;throw e;}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['33']++;if(A.instanceOf(reason,A.CancellablePromise.Error)){__cov_UqjJvXCR_QuZYU4vZC5nVg.b['5'][0]++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['34']++;throw reason;}else{__cov_UqjJvXCR_QuZYU4vZC5nVg.b['5'][1]++;}});__cov_UqjJvXCR_QuZYU4vZC5nVg.s['35']++;child.cancel=A.bind(instance.cancel,instance);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['36']++;return child;},_cancelChildPromises:function(opt_message){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['11']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['37']++;A.Array.invoke(this._childPromises,'cancel',opt_message);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['38']++;this._childPromises=null;}});__cov_UqjJvXCR_QuZYU4vZC5nVg.s['39']++;CancellablePromise.resolve=A.Promise.resolve;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['40']++;CancellablePromise.reject=A.Promise.reject;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['41']++;CancellablePromise.all=function(values){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['12']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['42']++;var children=[];__cov_UqjJvXCR_QuZYU4vZC5nVg.s['43']++;return new A.CancellablePromise(function(resolve,reject){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['13']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['44']++;if(!A.Lang.isArray(values)){__cov_UqjJvXCR_QuZYU4vZC5nVg.b['6'][0]++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['45']++;reject(new TypeError('CancellablePromise.all expects an array of values or promises'));__cov_UqjJvXCR_QuZYU4vZC5nVg.s['46']++;return;}else{__cov_UqjJvXCR_QuZYU4vZC5nVg.b['6'][1]++;}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['47']++;var instance=this,results=[],remaining=values.length;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['48']++;function resolveInternal(childPos,val){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['14']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['49']++;results[childPos-1]=val;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['50']++;remaining--;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['51']++;if(!remaining){__cov_UqjJvXCR_QuZYU4vZC5nVg.b['7'][0]++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['52']++;resolve(results);}else{__cov_UqjJvXCR_QuZYU4vZC5nVg.b['7'][1]++;}}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['53']++;A.Array.each(values,function(maybePromise){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['15']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['54']++;var child=A.CancellablePromise.resolve(maybePromise);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['55']++;child.then(A.bind(resolveInternal,instance,children.push(child)),A.bind(instance.cancel,instance));});},function(){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['16']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['56']++;A.Array.invoke(children,'cancel');__cov_UqjJvXCR_QuZYU4vZC5nVg.s['57']++;children=null;});};__cov_UqjJvXCR_QuZYU4vZC5nVg.s['58']++;A.CancellablePromise=CancellablePromise;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['59']++;function CancellablePromiseError(opt_message){__cov_UqjJvXCR_QuZYU4vZC5nVg.f['17']++;__cov_UqjJvXCR_QuZYU4vZC5nVg.s['60']++;CancellablePromiseError.superclass.constructor.apply(this,arguments);__cov_UqjJvXCR_QuZYU4vZC5nVg.s['61']++;this.message=opt_message;}__cov_UqjJvXCR_QuZYU4vZC5nVg.s['62']++;A.extend(CancellablePromiseError,Error,{name:'cancel'});__cov_UqjJvXCR_QuZYU4vZC5nVg.s['63']++;A.CancellablePromise.Error=CancellablePromiseError;},'3.1.0',{'requires':['array-invoke','promise','oop']});
